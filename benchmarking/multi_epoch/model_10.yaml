time_units: generations
demes:
  - name: X
    epochs:
      - end_time: 1500
        start_size: 5000
      - end_time: 1200
        start_size: 5000
      - end_time: 1000
  - name: A
    ancestors: [X]
    epochs:
      - end_time: 800
        start_size: 5000
      - end_time: 500
      - end_time: 200
      - end_time: 0
  - name: B
    ancestors: [X]
    epochs:
      - end_time: 800
        start_size: 5000
      - end_time: 500
      - start_size: 5000
        end_time: 200
      - end_time: 0
  - name: C
    ancestors: [X]
    start_time: 1200
    epochs:
      - end_time: 800
        start_size: 5000
      - end_time: 500
        start_size: 5000
      - end_time: 0
migrations:
       - {source: A, dest: B, rate: 1e-3, start_time: 1000, end_time: 800}
       - {source: B, dest: A, rate: 1e-3, start_time: 500, end_time: 200}
       #- {source: B, dest: A, rate: 1e-3, start_time: 200, end_time: 0}
pulses:
  - sources: [A]
    dest: B
    proportions: [0.3]
    time: 200
metadata:
  mutation:
    rate: 1e-6
  recombination:
    rate: 1e-7
